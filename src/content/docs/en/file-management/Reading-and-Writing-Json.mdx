---
title: Reading and writing JSON files
description: Use of with for safe handling
sidebar:
  order: 4
---

import { Code } from '@astrojs/starlight/components';
import { Aside } from '@astrojs/starlight/components';
import { FileTree } from '@astrojs/starlight/components';

JSON files (JavaScript Object Notation) are used for storing and transporting structured data. Unlike TXT or CSV, they can represent objects, nested lists and more complex hierarchies. Python provides the json module for handling them.

We have the following project structure:

<FileTree>

- src
  - read_json.py
  - write_json.py
  - rewrite_json.py
- docs
  - products.json


</FileTree>

## Read a JSON file

Open the products.json file in read mode ("r"), load its content as a list of dictionaries and then print the name and price of each product.

<Code
code="
import json

with open('./document/products.json', mode='r') as file:
&nbsp;&nbsp;&nbsp;&nbsp;products = json.load(file)

&nbsp;&nbsp;&nbsp;&nbsp;for product in products:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(f'The product {product['name']} priced at {product['price']}')"
lang="py"
title="read_json.py"
mark="highlights"
frame="auto" />

## Add an element to the JSON file

Load the products from the file, add a new product to the end of the list and save everything again, overwriting the original file.

<Code
code="
import json

# New product to add
new_product = {'name': 'Keyboard', 'price': 19.99}

# Read current products
with open('./document/products.json', 'r') as file:
    products = json.load(file)

# Add the new product
products.append(new_product)

# Save the updated list
with open('./document/products.json', 'w') as file:
    json.dump(products, file, indent=2)"
lang="py"
title="read_json.py"
mark="highlights"
frame="auto" />

## Overwrite a JSON file

Overwrite the entire products.json file with a new list of products. Use the "w" mode to replace all previous content.

<Code
code="
import json

# New products list
products = [
    {'name': 'Mouse', 'price': 9.99},
    {'name': 'Monitor', 'price': 129.99}
]

# Save the new list in the file
with open('./document/products.json', 'w') as file:
    json.dump(products, file, indent=2)
"
lang="py"
title="read_json.py"
mark="highlights"
frame="auto" />
